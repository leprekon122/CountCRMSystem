{% extends 'main_app/layout_main.html' %}

{% block title %}Rifle order{%endblock%}


{%block content%}
<div class="container-fluid order_main" style="width: 100%">


    <div class="side_panel" id="side_panel">
        <div class="filter_panel">
            <div class="title_filter_panel">
                <h5 class="text-light">Filter</h5>
            </div>
            <div>
                <select class="form-control">
                    <option>filter by operator</option>
                    <option>filter by position</option>
                    <option>filter by dron name</option>
                </select>
            </div>
            <br>
            <button class="btn btn-warning text-light" style="background: transparent; width: 100%">
                filter
            </button>
            <br>

        </div>
    </div>
    <div class="orders_block">
        <table class="table table-dark table-sm table-bordered">
            <thead>
            <tr>
                <th scope="col">Nickname</th>
                <th scope="col">Type_rifle</th>
                <th scope="col">Rifle_number</th>
                <th scope="col">Produced_date</th>
                <th scope="col">Date in</th>
                <th scope="col">Date out</th>
                <th scope="col">get out</th>
            </tr>
            </thead>
            <tbody>
            <form method="post">
                {%csrf_token%}
                {%for el in model%}
                {% if el.status == '1' %}
                <div class="modal" tabindex="-1" role="dialog" id="modal_username">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header" style="background-color: black">
                                <h5 class="modal-title text-light">Change username</h5>
                                <button type="button" class="close text-danger" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body" style="background-color: black">
                                <input class="form-control" type="text" name="change_username">
                            </div>
                            <div class="modal-footer" style="background-color: black">
                                <button type="submit" name="change_username_btn" class="btn btn-success" value="{{el.id}}"
                                        style="background: transparent; width: 100%">Save changes
                                </button>
                            </div>
                        </div>
                    </div>
                </div>


                <tr>
                    <th style="background-color: #1d5718">{{el.Nickname}}
                        <button type="button" class="btn btn-success" style="border: none; background: transparent"
                                data-toggle="modal" data-target="#modal_username">
                            <i class="fa-solid fa-pencil"></i></button>
                    </th>
                    <th style="background-color: #1d5718">{{el.Type_rifle}}</th>
                    <th style="background-color: #1d5718">{{el.Rifle_number}}</th>
                    <th style="background-color: #1d5718">{{el.Produced_date}}</th>
                    <th style="background-color: #1d5718">{{el.date_in}}</th>
                    <th style="background-color: #1d5718">{{el.date_out}}</th>
                    <th>
                        <button class="btn btn-danger" type="submit" name="del_rifle" value="{{el.id}}"
                                style="background-color:transparent">delete
                        </button>
                    </th>
                </tr>
                {%elif el.status == '0' %}
                <tr>
                    <th style="background-color: #611510">{{el.Nickname}}
                    </th>

                    </th>
                    <th style="background-color: #611510">{{el.Type_rifle}}</th>
                    <th style="background-color: #611510">{{el.Rifle_number}}</th>
                    <th style="background-color: #611510">{{el.Produced_date}}</th>
                    <th style="background-color: #611510">{{el.date_in}}</th>
                    <th style="background-color: #611510">{{el.date_out}}</th>
                </tr>
                {%endif%}
                {%endfor%}
            </form>
            </tbody>
        </table>
    </div>
</div>

{%endblock%}